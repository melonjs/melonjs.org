---
import Icon from './Icon.astro';
import '../styles/global.scss'
const pathname = new URL(Astro.request.url).pathname
---

<header>
    <style lang="scss">
        @import '../styles/variables.scss';
        header {
            font-size: 1.2em;
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: $gray;
            border-bottom: 0.5vmin solid $dark-gray;
            //padding: 0 10vmin;
            a {
                color: inherit;
                text-decoration: none;
            }
            nav {
                ul {
                    display: flex;
                    flex-direction: row;
                    justify-content: space-evenly;
                    max-width: 100vw;
                    flex-wrap: wrap;
                    li {
                        position: relative;
                        flex-grow: 1;
                        text-align: center;
                        list-style: none;
                        color: #dadada;
                        transition: background-color 0.3s ease, color 0.3s ease;
                        &.active,
                        &:hover {
                            color: white;
                            background-color: $dark-gray;
                            transition: none;
                        }
                        a {
                            // position: absolute;
                            // top: 50%;
                            // left: 50%;
                            // transform: translate(-50%, -50%);
                            padding: 3vmin 2vmin;
                            width: calc(100% - 4vmin);
                            height: calc(100% - 6vmin);
                            vertical-align: middle;
                            display: inline-block;
                            vertical-align: middle;
                        }
                    }
                }
            }
        }
        .inline {
            height: 0.75em;
            &:not(.no-bump) {
                margin: -0.25em 0.75em 0 0;
            }
            vertical-align: middle;
            &.big {
                height: 1.5em;
            }
        }
    </style>
    <nav>
        <ul>
            <li class={pathname === '/' ? 'active' : null}>
                <a href="/#top">Home</a>
            </li>
            <li>
                <a aria-label="NPM" href="https://www.npmjs.com/package/melonjs"
                    ><Icon icon="npm" alt="npm" class="inline no-bump"/>
                </a>
            </li>
            <li><a href="https://melonjs.github.io/docs/">API</a></li>
            <li>
                <a
                    href="https://github.com/melonjs/melonJS/wiki/made-with-melonJS"
                    >Gallery
                </a>
            </li>
            <li>
                <a href="https://melonjs.discourse.group"
                    ><Icon icon="discourse" class="inline"/>Forum
                </a>
            </li>
            <li>
                <a href="https://discord.gg/aur7JMk" target="_blank"
                    ><Icon icon="discord" class="inline"/>Discord
                </a>
            </li>
            <li>
                <a href="https://github.com/melonjs/melonJS"
                    ><Icon icon="github" class="inline" /><span
                        >GitHub
                    </span>
                </a>
            </li>
        </ul>
    </nav>
</header>
